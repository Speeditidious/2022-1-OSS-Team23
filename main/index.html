<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" type="text/css" href="../css/main.css">
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

        <title>OSS Team23 Main Page</title>
    </head>
    <body>
        <div id="top-content">
            <div class="top-container">
                <div class="top-text">
                    <span style="font-size:1.2em; display:inline-block; width:800px;">
                        <h1>
                            <strong>WELCOME TO TEAM23!</strong>
                        </h1>
                        <p>
                            이 프로젝트는 리그 오브 레전드 게임 국제 대회인 LoL MSI가 국내에서 개최되는 기념으로
                            대회를 소개하는 웹 페이지 개발을 목적으로 뒀습니다.
                        </p>
                        <p>
                            게임을 모르는 분들도 읽으실 수 있도록 리그 오브 레전드에 대한 설명도 포함되어 있습니다.
                        </p>
                    </span>
                </div>
                <img src="poroWallPaper.jpg" class="mx-auto d-block" alt="poroWallPaper">
            </div>
        </div>

        <div id="floating-tab">
            <div class="shadow-sm bg-light py-3">
                <button type="button" id="msiTabButton" class="btn btn-outline-dark me-5">MSI대회 정보</button>
                <button type="button" id="teamTabButton" class="btn btn-outline-dark me-5">팀 정보</button>
                <button type="button" id="lolTabButton" class="btn btn-outline-dark me-5">롤 정보</button>
                <button type="button" id="videoTabButton" class="btn btn-outline-dark me-5">추천 영상</button>
            </div>
        </div>

        <div id="main-paragraph">
            <div id="wrapper">
                <div id="msi-info">
                    <div class="container">
                        <br><br><br><br><br><br><br><br>
                        <h2><strong>MSI 정보</strong></h2>
                        <div class="paragraph">
                            <h3>MSI가 뭔가요?</h3>
                            <img src="msiThumbnail.jpg" class="my-3 mx-auto d-block" alt="msiThumbnail" width="600px">
                            <p>
                                LoL MSI는 세계 각 지역에서 스프링 스플릿(봄 시즌)을 제패한 팀이 출전해 세계 최강을 가리는 공식 리그 오브 레전드 게임 국제대회다.
                                흔히 롤드컵이라 불리는 리그 오브 레전드 월드 챔피언십과 MSI가 혼동되는데, 롤드컵은 스프링시즌과 서머시즌 순위 포인트를 종합해서 리그당 3~4개의 팀이 출전하는 대회다.
                                쉽게 말해서 롤드컵이 제일 큰 대회고, 그 다음으로 큰 대회가 MSI라고 생각하면 된다. 참고로, MSI대회에서 우승할 경우 롤드컵 시드권을 얻을 수 있다.
                            </p>
                        </div>
                        
                        <div class="paragraph">
                            <h3>MSI 경기 일정 및 장소</h3>
                            <ol>
                                <li>그룹 스테이지</li>
                                <ul>
                                    <li>날짜: 2022년 5월 10일 ~ 5월 15일</li>
                                    <li>장소: 부산 e스포츠 경기장 브레나</li>
                                    <li>방식: 단판 더블 라운드 로빈 (각 팀과 단판으로 2번씩 대결)</li>
                                </ul>
                                <li>럼블 스테이지</li>
                                <ul>
                                    <li>날짜: 2022년 5월 20일 ~ 5월 24일</li>
                                    <li>장소: 벡스코 제1 전시장</li>
                                    <li>방식: 단판 더블 라운드 로빈 (그룹 스테이지와 동일)</li>
                                </ul>
                                <li>녹아웃 스테이지</li>
                                <ul>
                                    <li>날짜: 2022년 5월 27일 ~ 5월 29일</li>
                                    <li>장소: 벡스코 제1 전시장</li>
                                    <li>방식: BO5 (5전 3선승)</li>
                                    <ul>
                                        <li>4강: 2022년 5월 25일 ~ 5월29일</li>
                                        <li>결승: 2022년 5월 29일 (우승시 롤드컵 시드권 혜택)</li>
                                    </ul>
                                </ul>
                            </ol>
                        </div>

                        <div class="paragraph">
                            <h3>MSI 티켓팅 정보</h3>
                            <ol>
                                <li>그룹 스테이지</li>
                                <ul>
                                    <li>시간: 5월 4일 <strong>17시</strong></li>
                                    <ul>
                                        <li>1티어 티켓: 15,000원</li>
                                        <li>좌석 수: <strong>300석</strong></li>
                                    </ul>
                                    <li><a href="https://tickets.interpark.com/goods/22005174">2022 MSI 그룹스테이지 예매링크</a></li>
                                </ul>
                                <li>럼블 스테이지</li>
                                <ul>
                                    <li>시간: 5월 11일 <strong>17시</strong></li>
                                    <ul>
                                        <li>1티어 티켓: 40,000원</li>
                                        <li>2티어 티켓: 30,000원</li>
                                        <li>3티어 티켓: 20,000원</li>
                                    </ul>
                                    <li>링크는 아직 없다. <a href="http://ticket.interpark.com/">(인터파크 티켓 링크)</a></li>
                                </ul>
                                <li>4강</li>
                                <ul>
                                    <li>시간: 5월 16일 <strong>17시</strong></li>
                                    <ul>
                                        <li>1티어 티켓: 50,000원</li>
                                        <li>2티어 티켓: 40,000원</li>
                                        <li>3티어 티켓: 30,000원</li>
                                    </ul>
                                    <li>링크는 아직 없다. <a href="http://ticket.interpark.com/">(인터파크 티켓 링크)</a></li>
                                </ul>
                                <li>결승</li>
                                <ul>
                                    <li>시간: 5월 16일 <strong>17시</strong></li>
                                    <ul>
                                        <li>1티어 티켓: 60,000원</li>
                                        <li>2티어 티켓: 50,000원</li>
                                        <li>3티어 티켓: 40,000원</li>
                                    </ul>
                                    <li>링크는 아직 없다. <a href="http://ticket.interpark.com/">(인터파크 티켓 링크)</a></li>
                                </ul>
                            </ol>
                        </div>
                    </div>
                </div>
        
                <div id="team-info">
                    <div class="container">
                        <h2><strong>팀 정보</strong></h2>
                        <div class="paragraph" style="text-align:center;">
                            <div id="teamImageSelected" style="margin-top: 50px; margin-bottom: 50px;">
                                <img src="./msiTeamImage/msiTeamImage1.png" alt="teamImage" width="600px">
                            </div>
                            <div class="d-flex align-items-center">
                                <button type="button" class="btn btn-outline-secondary me-3">
                                    <i class="bi bi-caret-left-fill" style="font-size: 2rem;"></i>
                                </button>
                                <div id="team-card-container">
                                    <button type="button" class="btn_teamImage" id="btn_team1"><img src="./msiTeamCard/msiTeamCard_A1.png" class="mx-1" alt="A1" width="180px"></button>
                                    <button type="button" class="btn_teamImage" id="btn_team2"><img src="./msiTeamCard/msiTeamCard_A2.png" class="mx-1" alt="A2" width="180px"></button>
                                    <button type="button" class="btn_teamImage" id="btn_team3"><img src="./msiTeamCard/msiTeamCard_A3.png" class="mx-1" alt="A3" width="180px"></button>
                                    <button type="button" class="btn_teamImage" id="btn_team4"><img src="./msiTeamCard/msiTeamCard_A4.png" class="mx-1" alt="A4" width="180px"></button>
                                    <button type="button" class="btn_teamImage" id="btn_team5"><img src="./msiTeamCard/msiTeamCard_B1.png" class="mx-1" alt="B1" width="180px"></button>
                                    <button type="button" class="btn_teamImage" id="btn_team6"><img src="./msiTeamCard/msiTeamCard_B2.png" class="mx-1" alt="B2" width="180px"></button>
                                    <button type="button" class="btn_teamImage" id="btn_team7"><img src="./msiTeamCard/msiTeamCard_B3.png" class="mx-1" alt="B3" width="180px"></button>
                                    <button type="button" class="btn_teamImage" id="btn_team8"><img src="./msiTeamCard/msiTeamCard_B4.png" class="mx-1" alt="B4" width="180px"></button>
                                    <button type="button" class="btn_teamImage" id="btn_team9"><img src="./msiTeamCard/msiTeamCard_C1.png" class="mx-1" alt="C1" width="180px"></button>
                                    <button type="button" class="btn_teamImage" id="btn_team10"><img src="./msiTeamCard/msiTeamCard_C2.png" class="mx-1" alt="C2" width="180px"></button>
                                    <button type="button" class="btn_teamImage" id="btn_team11"><img src="./msiTeamCard/msiTeamCard_C3.png" class="mx-1" alt="C3" width="180px"></button>
                                </div>
                                <button type="button" class="btn btn-outline-secondary ms-3">
                                    <i class="bi bi-caret-right-fill" style="font-size: 2rem;"></i>
                                </button>
                            </div>
                            <div class="mx-auto d-block" style="margin-top: 50px;">
                                <button type="button" class="btn btn-primary" style="font-size: 1.5rem">입장</button>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div id="lol-info">
                    <div class="container">
                        <h2><strong>롤 정보</strong></h2>
                        <div class="paragraph">
                            <p>(롤 정보)</p>
                        </div>
                    </div>
                </div>
        
                <div id="video-recommend">
                    <div class="container">
                        <h2><strong>추천 영상</strong></h2>
                        <div class="paragraph">
                            <p>(추천 영상)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

        <script>
            //Floating Tab
            let topContentHeight = document.getElementById("top-content").clientHeight;
            let floatingTab = document.getElementById("floating-tab");
            let floatingTabHeight = 150;

            let isTop = true;

            window.addEventListener('scroll', () => {
                let scrollLocation = document.documentElement.scrollTop;
                
                if(scrollLocation >= topContentHeight){
                    if(!isTop) return;
                    floatingTab.style.position = "fixed";
                    floatingTab.style.top = "0%";
                    isTop = false;
                }
                else{
                    if(isTop) return;
                    floatingTab.style.removeProperty("position");
                    floatingTab.style.removeProperty("top");
                    isTop = true;
                }
            });

            let tabBtnArr = document.getElementsByClassName("btn btn-outline-dark me-5");
            
            let targetMsi = document.getElementById("msi-info");
            let targetMsiTop;
            let targetTeam = document.getElementById("team-info");
            let targetTeamTop;
            let targetLol = document.getElementById("lol-info");
            let targetLolTop;
            let targetVideo = document.getElementById("video-recommend");
            let targetVideoTop;

            const speed = 500;
            let targetTop;

            for(let i = 0; i < tabBtnArr.length; i++){
                tabBtnArr[i].addEventListener('click', function(e){
                    e.preventDefault();

                    if(tabBtnArr[i].id === "msiTabButton"){
                        targetMsiTop = window.pageYOffset + targetMsi.getBoundingClientRect().top;
                        smoothScrollTop(targetMsiTop - floatingTabHeight);
                    }
                    else if(tabBtnArr[i].id === "teamTabButton"){
                        targetTeamTop = window.pageYOffset + targetTeam.getBoundingClientRect().top;
                        smoothScrollTop(targetTeamTop - floatingTabHeight);
                    }
                    else if(tabBtnArr[i].id === "lolTabButton"){
                        targetLolTop = window.pageYOffset + targetLol.getBoundingClientRect().top;
                        smoothScrollTop(targetLolTop - floatingTabHeight);
                    }
                    else if(tabBtnArr[i].id === "videoTabButton"){
                        targetVideoTop = window.pageYOffset + targetVideo.getBoundingClientRect().top;
                        smoothScrollTop(targetVideoTop - floatingTabHeight);
                    }
                });
            }
            
            function smoothScrollTop(targetTop){
                $('html, body').animate({
                    scrollTop: targetTop
                }, speed);
            }

            //Team Selection Left Right Scroll Button
            let btnTeamLeft = document.getElementsByClassName("btn btn-outline-secondary me-3");
            let btnTeamRight = document.getElementsByClassName("btn btn-outline-secondary ms-3");
            let teamCard = document.getElementById("team-card-container");
            let teamCardWidth = teamCard.getBoundingClientRect().width;
            let teamCardRightMax = teamCard.scrollWidth;

            let teamScrollAmount = 400;
            let targetLeft;

            btnTeamLeft[0].addEventListener('click', ()=> {
                targetLeft = teamCard.scrollLeft - teamScrollAmount;
                if(targetLeft < 0){
                    targetLeft = 0;
                }
                smoothScrollLeft(targetLeft);
            });

            btnTeamRight[0].addEventListener('click', ()=> {
                targetLeft = teamCard.scrollLeft + teamScrollAmount;
                if(targetLeft + teamCardWidth > teamCardRightMax){
                    targetLeft = teamCardRightMax - teamCardWidth;
                }
                smoothScrollLeft(targetLeft);
            });

            function smoothScrollLeft(targetLeft){
                $('#team-card-container').animate({
                    scrollLeft: targetLeft
                }, speed);
            }
            
            //Team Selection Image Button
            let btnTeamImage = document.getElementsByClassName("btn_teamImage");
            let btnTeamImageSource = document.getElementById("teamImageSelected").firstElementChild;

            for(let i = 0; i < btnTeamImage.length; i++){
                btnTeamImage[i].addEventListener('click', ()=> {
                    btnTeamImageSource.src = "./msiTeamImage/msiTeamImage" + (i+1) + ".png";
                    btnTeamImage[i].style.filter = "brightness(50%)";
                    btnTeamImage[i].style.zIndex = "3";
                    for(let j = 0; j < btnTeamImage.length; j++){
                        if(j != i){
                            btnTeamImage[j].style.removeProperty("filter");
                        }
                    }
                });
            }
        </script>
    </body>
</html>